<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-linux/linux-concept-service">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Service Manager | selubi.tech</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://notes.selubi.tech/img/social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://notes.selubi.tech/img/social-card.jpg"><meta data-rh="true" property="og:url" content="https://notes.selubi.tech/linux/linux-concept-service"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Service Manager | selubi.tech"><meta data-rh="true" name="description" content="Main source of this document 101.3"><meta data-rh="true" property="og:description" content="Main source of this document 101.3"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://notes.selubi.tech/linux/linux-concept-service"><link data-rh="true" rel="alternate" href="https://notes.selubi.tech/linux/linux-concept-service" hreflang="en"><link data-rh="true" rel="alternate" href="https://notes.selubi.tech/linux/linux-concept-service" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.09e1162a.css">
<link rel="preload" href="/assets/js/runtime~main.3118dd01.js" as="script">
<link rel="preload" href="/assets/js/main.6b99df84.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.selubi.tech/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/logo-light.png" alt="selubi.tech logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-dark.png" alt="selubi.tech logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Notes</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Selubi/selubi.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">About</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/github">GitHub</a><button aria-label="Toggle the collapsible sidebar category &#x27;GitHub&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/category/linux">Linux</a><button aria-label="Toggle the collapsible sidebar category &#x27;Linux&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux/linux-cheat-sheet">Cheat Sheet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux/linux-concept-bios">BIOS and UEFI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux/linux-concept-grub">GRUB Bootloader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/linux/linux-concept-service">Service Manager</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/network">Network</a><button aria-label="Toggle the collapsible sidebar category &#x27;Network&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/setup">Setup</a><button aria-label="Toggle the collapsible sidebar category &#x27;Setup&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/linux"><span itemprop="name">Linux</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Service Manager</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Service Manager</h1></header><p>Main source of this document: <a href="https://learning.lpi.org/en/learning-materials/learning-materials/" target="_blank" rel="noopener noreferrer">LPIC-1 Exam 101 Learning Material: 101.3</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-services-processes-and-jobs">What are services, processes, and jobs?<a href="#what-are-services-processes-and-jobs" class="hash-link" aria-label="Direct link to What are services, processes, and jobs?" title="Direct link to What are services, processes, and jobs?">​</a></h2><p>In Linux, a process is a running instance of a computer program. Any running program is a process, no matter by who or from where it is executed.</p><p>A service (also called daemons) usually refers to a background process (a process that does not need user interaction) that provides functionality for the operating system. Services are generally started during boot and managed by the service manager.</p><p>A job is a concept related to the shell, not the OS itself. A job is a process that we, the user, start interactively.</p><p>Details on jobs and processes will be discussed in another note. We will focus on services and service managers on this note.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-about-service-managers">What about service managers?<a href="#what-about-service-managers" class="hash-link" aria-label="Direct link to What about service managers?" title="Direct link to What about service managers?">​</a></h2><p>Service Managers are the program that manages services, and it is the first program launched by the kernel boot. Strictly speaking, it is the first process executed in the <a href="https://en.wikipedia.org/wiki/User_space_and_kernel_space" target="_blank" rel="noopener noreferrer">user-space environment</a>. This is why its PID (process identification number) is always <code>1</code>.</p><p><code>systemd</code> is the service manager most used in modern Linux distributions. We will discuss mainly <code>systemd</code> and then explain the difference with its predecessor, <code>SysVinit</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="systemd-service-manager-of-modern-linux-distribution"><code>systemd</code>: Service manager of modern Linux distribution<a href="#systemd-service-manager-of-modern-linux-distribution" class="hash-link" aria-label="Direct link to systemd-service-manager-of-modern-linux-distribution" title="Direct link to systemd-service-manager-of-modern-linux-distribution">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="a-brief-overview">A Brief Overview<a href="#a-brief-overview" class="hash-link" aria-label="Direct link to A Brief Overview" title="Direct link to A Brief Overview">​</a></h3><p><code>systemd</code> is the manager for most modern Linux distributions. In <code>systemd</code>, system resources and services are referred to as units. For example, the docker service is called <code>docker.service</code>, and the collection of units needed for a graphical desktop environment is called <code>graphical.target</code>. As shown by these examples, the naming scheme of units follows <code>&lt;name&gt;.&lt;type&gt;</code>.</p><p>Some of the primary unit types include:</p><ul><li><code>service</code> - Individual service. The most common unit.</li><li><code>target</code> - A collection of other units representing a system state.</li><li><code>socket</code> - Unit for inter-process communication.</li><li><code>device</code> - Unit associated with a hardware device. A device will only be taken as a unit if a udev rule for it exists.</li><li><code>mount</code> - A mount point definition in the filesystem, similar to <code>/etc/fstab</code>.</li><li><code>automount</code> - A mount unit that is automatically activated instead of manually activated.</li></ul><p>Configuration files of every unit are located in <code>/lib/systemd/system/</code></p><p>Here is an example of a configuration for a <code>.mount</code> unit.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">/lib/systemd/system/sample.mount</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[Unit]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Description=USB Drive Automount sample</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Mount]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">What=/dev/sdb1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Where=/mnt/usb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Type=auto</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Options=defaults,noatime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x-systemd.automount=true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Install]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WantedBy=multi-user.target</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="interacting-with-systemd-with-systemctl">Interacting with <code>systemd</code> with <code>systemctl</code><a href="#interacting-with-systemd-with-systemctl" class="hash-link" aria-label="Direct link to interacting-with-systemd-with-systemctl" title="Direct link to interacting-with-systemd-with-systemctl">​</a></h3><p>We can interact with <code>systemd</code> with the <code>systemctl</code> utility. Here is a list of frequently used <code>systemctl</code> commands. Here, <code>&lt;type&gt;</code> refers to unit type the command applies to.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="general">General<a href="#general" class="hash-link" aria-label="Direct link to General" title="Direct link to General">​</a></h4><ul><li><code>systemctl list-unit-files</code> - Lists all available units and show if they are enabled. Pass the option <code>--type=TYPE</code> to only show units of <code>TYPE</code> type.</li><li><code>systemctl list-units</code> - Lists all active units. Pass the option <code>--type=TYPE</code> to only show units of <code>TYPE</code> type.</li><li><code>systemctl reboot</code> - Reboot the system. Same effect as <code>systemctl isolate reboot.target</code></li><li><code>systemctl poweroff</code> - Power off the system. Same effect as <code>systemctl isolate shutdown.target</code></li><li><code>systemctl suspend</code> - Sleeps the system. Data in memory is saved as is.</li><li><code>systemctl hibernate</code> - Hibernates the system. Data in memory is moved to disk.</li><li><code>systemctl rescue</code> - Puts the system in rescue mode (similar to &quot;safe mode&quot; on Windows). Same effect as <code>systemctl isolate rescue.target</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="services">Services<a href="#services" class="hash-link" aria-label="Direct link to Services" title="Direct link to Services">​</a></h4><ul><li><code>systemctl start [&lt;service&gt;]</code>　- Starts unit</li><li><code>systemctl stop [&lt;service&gt;]</code>　- Stops unit</li><li><code>systemctl restart [&lt;service&gt;]</code>　- Restarts unit</li><li><code>systemctl status [&lt;service&gt;]</code>　- Shows the state of unit</li><li><code>systemctl is-active [&lt;service&gt;]</code>　- Shows <code>active</code> if unit is running, <code>inactive</code> otherwise.</li><li><code>systemctl enable [&lt;service&gt;]</code>　- Makes unit start from the next system initialization. Does NOT start unit immediately.</li><li><code>systemctl disable [&lt;service&gt;]</code>　- Unit will not start from the next system initialization.</li><li><code>systemctl is-enabled [&lt;service&gt;]</code> - Outputs <code>enabled</code> or <code>disabled</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="targets">Targets<a href="#targets" class="hash-link" aria-label="Direct link to Targets" title="Direct link to Targets">​</a></h4><ul><li><code>systemctl isolate [&lt;target&gt;]</code> - Alternate to the target unit.</li><li><code>systemctl set-default [&lt;target&gt;]</code> - Set the default initialization target for subsequent boots. Usually defaults to <code>multi-user.target</code> or <code>graphical.target</code>.</li><li><code>systemctl get-default</code> - Get the default initialization target.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="more-on-units">More on units<a href="#more-on-units" class="hash-link" aria-label="Direct link to More on units" title="Direct link to More on units">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="what-exactly-are-targets">What exactly are targets?<a href="#what-exactly-are-targets" class="hash-link" aria-label="Direct link to What exactly are targets?" title="Direct link to What exactly are targets?">​</a></h4><p>Targets are a unit containing a collection of other units to represent a system state.
If our Linux installation has a graphical desktop environment, that is a system state in which the GUI is loaded (as opposed to a CLI only installation).
The collection of units needed to achieve this state is called the <code>graphical.target</code>.
For example, in an installation of Ubuntu for desktop use, this <code>graphical.target</code> is the default target.
The default target is the target unit that is targeted when the system boots (i.e., the default state of the system we want to achieve on the boot process).</p><p>In this <code>graphical.target</code>, there might be multiple units, such as <code>mutter.service</code> if we use GNOME for our desktop environment, <code>network.target</code> to provide network connectivity, etc.</p><p>Some targets could co-exist and complement each other such as the <code>graphical.target</code> and <code>network.target</code>, however some targets, such as <code>rescue.target</code> (single user target) and <code>multi-user.target</code> (usually the default target for a non-graphical Linux installation) are mutually exclusive.</p><p>There can be only one default target. It will usually be <code>multi-user.target</code> or <code>graphical.target</code>. Another notable target is the <code>rescue.target</code>, a system state for recovery akin to &quot;Safe Mode&quot; for Windows.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="mount-units-vs-automount-units">Mount units vs. automount units<a href="#mount-units-vs-automount-units" class="hash-link" aria-label="Direct link to Mount units vs. automount units" title="Direct link to Mount units vs. automount units">​</a></h4><p>On a mount unit configuration such as the <code>/lib/systemd/system/sample.mount</code> example above, we can pass the <code>x-systemd.automount=true</code> to enable automount. When automounting is available, the device is not mounted right away. Instead, when an access to <code>/mnt/usb</code> is detected (via <a href="https://man7.org/linux/man-pages/man7/inotify.7.html" target="_blank" rel="noopener noreferrer">kernel inotify event</a>), <code>/dev/sdb1</code> is mounted at that time and the <code>sample.automount</code> event is created. When <code>/mnt/usb</code> doesn&#x27;t get accessed after a while after mounting, it is automatically dismounted.</p><p>This is in contrast to if you activate the mount unit via <code>systemctl mount sample.mount</code>, it will mount <code>/dev/sdb1</code> to <code>/mnt/usb</code> until we unmount it with <code>systemctl umount sample.mount</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sysvinit-the-legacy-service-manager"><code>SysVinit</code>: The legacy service manager<a href="#sysvinit-the-legacy-service-manager" class="hash-link" aria-label="Direct link to sysvinit-the-legacy-service-manager" title="Direct link to sysvinit-the-legacy-service-manager">​</a></h2><p><code>SysVinit</code> is a service manager replaced by <code>systemd</code>, which we might still encounter in legacy systems.
<code>SysVinit</code> systems are easily understandable if we understand the concept of target units in <code>systemd</code>.</p><p>In <code>SysVinit</code>, there are only 6 desired system state which is called runlevels.
Each runlevel is mutually exclusive to the other (i.e., you cannot have two runlevels active at the same time).
What services should be enabled and disabled are defined at each runlevel.
In systemd terms, think of it as having 6 mutually exclusive targets as the whole service manager.</p><p>The runlevels are defined below:</p><ul><li><code>Runlevel 0</code> - Shutdown (equivalent to systemd&#x27;s <code>shutdown.target</code>)</li><li><code>Runlevel 1, s or single</code> - Single user mode (<code>rescue.target</code>)</li><li><code>Runlevel 2,3,4</code> - Multi-user mode. 3 is the most used one (<code>multi-user.target</code>)</li><li><code>Runlevel 5</code> - Graphical multi-user mode (<code>graphical.target</code>)</li><li><code>Runlevel 6</code> - Restart (<code>reboot.target</code>)</li></ul><p>The settings, such as default runlevel, is set on the <code>/etc/inittab</code> file.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">/etc/inittab</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># id:runlevels:action:process is the syntax</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">id:x:initdefault # Default runlevel is x, x should not be 0 or 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>During boot, the program <code>/sbin/init</code> will look into this <code>/etc/inittab</code> and get the default runlevel. If for example, the default runlevel is 3, it will execute the scripts stored at <code>/etc/init.d/rc3.d/</code>.</p><p>An example of <code>/etc/init.d/rc3.d/</code> contents is as follows.</p><div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">/etc/init.d/rc3.d/</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">S01network</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S02sshd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S10cron</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">K20apache2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">K30smbd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">K99halt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here, files starting with <code>S</code> indicates that the service should be started, and <code>K</code> means that the service should be killed to achieve the desired runlevel. The two digits after it represents the order the service should be started and killed. Lastly, there is the service name itself.</p><p>Some useful commands related to runlevels:</p><ul><li><code>runlevel</code> - Shows current runlevel</li><li><code>telinit &lt;runlevel&gt;</code> - Change system to runlevel <code>&lt;runlevel&gt;</code></li><li><code>telinit q</code> - Reload configuration. Run this if <code>/etc/inittab</code> is modified.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="extra-notes">Extra Notes<a href="#extra-notes" class="hash-link" aria-label="Direct link to Extra Notes" title="Direct link to Extra Notes">​</a></h2><ul><li>The exact definition of service and daemons are rather foggy. It is safe to assume that it refers to the background process closely related to the operating system and managed by service managers.</li><li>There are also other service managers such as <code>Upstart</code> that we didn&#x27;t discuss, as modern Linux systems mostly use <code>systemd</code> and legacy systems <code>SysVinit</code></li></ul><p>Last Updated: July 28, 2023</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/linux">Linux</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Selubi/selubi.github.io/tree/main/docs/linux/service.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/linux/linux-concept-grub"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">GRUB Bootloader</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/category/network"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Network</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-are-services-processes-and-jobs" class="table-of-contents__link toc-highlight">What are services, processes, and jobs?</a></li><li><a href="#what-about-service-managers" class="table-of-contents__link toc-highlight">What about service managers?</a></li><li><a href="#systemd-service-manager-of-modern-linux-distribution" class="table-of-contents__link toc-highlight"><code>systemd</code>: Service manager of modern Linux distribution</a><ul><li><a href="#a-brief-overview" class="table-of-contents__link toc-highlight">A Brief Overview</a></li><li><a href="#interacting-with-systemd-with-systemctl" class="table-of-contents__link toc-highlight">Interacting with <code>systemd</code> with <code>systemctl</code></a></li><li><a href="#more-on-units" class="table-of-contents__link toc-highlight">More on units</a></li></ul></li><li><a href="#sysvinit-the-legacy-service-manager" class="table-of-contents__link toc-highlight"><code>SysVinit</code>: The legacy service manager</a></li><li><a href="#extra-notes" class="table-of-contents__link toc-highlight">Extra Notes</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a href="https://github.com/Selubi" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://www.linkedin.com/in/selubi/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="mailto:contact@selubi.tech" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email: contact@selubi.tech<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">May the information provided on this site make your day easier.
        <br> Copyright © 2023 Gregorius Bryan.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.3118dd01.js"></script>
<script src="/assets/js/main.6b99df84.js"></script>
</body>
</html>